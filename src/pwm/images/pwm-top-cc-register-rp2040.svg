<svg viewBox="0 0 900 720" xmlns="http://www.w3.org/2000/svg">

  <!-- ================= BACKGROUND ================= -->
  <rect x="0" y="0" width="900" height="720" fill="#0f172a"/>

  <!-- ================= TITLE ================= -->
  <text x="450" y="32" font-size="22" font-weight="bold"
        text-anchor="middle" fill="#f4f2ee">
    PWM Counter, TOP, and CC Relationship
  </text>

  <!-- ================= COUNTER SECTION ================= -->
  <text x="50" y="72" font-size="16" font-weight="bold" fill="#f4f2ee">
    Counter
  </text>

  <!-- Axes -->
  <line x1="90" y1="110" x2="90" y2="360" stroke="#f4f2ee" stroke-width="2"/>
  <line x1="90" y1="360" x2="860" y2="360" stroke="#f4f2ee" stroke-width="2"/>

  <text x="30" y="115" font-size="14" fill="#f4f2ee">Count</text>
  <text x="865" y="365" font-size="14" fill="#f4f2ee">time</text>

  <!-- TOP line -->
  <line x1="90" y1="140" x2="860" y2="140"
        stroke="#dc2626" stroke-width="2" stroke-dasharray="6,4"/>
  <text x="20" y="145" font-size="15" font-weight="bold" fill="#dc2626">
    TOP = 9
  </text>

  <!-- CC line -->
  <line x1="90" y1="280" x2="860" y2="280"
        stroke="#2563eb" stroke-width="2" stroke-dasharray="6,4"/>
  <text x="28" y="285" font-size="15" font-weight="bold" fill="#2563eb">
    CC = 3
  </text>

  <!-- Counter step waveform -->
  <path d="
    M 90,360
    L 160,360 L 160,338
    L 230,338 L 230,316
    L 300,316 L 300,280
    L 370,280 L 370,258
    L 440,258 L 440,236
    L 510,236 L 510,214
    L 580,214 L 580,192
    L 650,192 L 650,170
    L 720,170 L 720,140
    L 790,140 L 790,360"
    fill="none" stroke="#ef4444" stroke-width="3"/>

  <!-- Reset line -->
  <line x1="790" y1="140" x2="790" y2="360"
        stroke="#ef4444" stroke-width="2" stroke-dasharray="4,4"/>

  <!-- Counter values -->
  <g font-size="11" fill="#9ca3af" text-anchor="middle">
    <text x="125" y="355">0</text>
    <text x="195" y="333">1</text>
    <text x="265" y="311">2</text>
    <text x="335" y="275">3</text>
    <text x="405" y="253">4</text>
    <text x="475" y="231">5</text>
    <text x="545" y="209">6</text>
    <text x="615" y="187">7</text>
    <text x="685" y="165">8</text>
    <text x="755" y="135">9</text>
  </g>

  <!-- Period annotation -->
  <line x1="90" y1="390" x2="790" y2="390"
        stroke="#7c3aed" stroke-width="3"/>
  <line x1="90" y1="384" x2="90" y2="396"
        stroke="#7c3aed" stroke-width="3"/>
  <line x1="790" y1="384" x2="790" y2="396"
        stroke="#7c3aed" stroke-width="3"/>

  <text x="440" y="415" font-size="15" font-weight="bold"
        fill="#7c3aed" text-anchor="middle">
    Period = TOP + 1 = 10 counts
  </text>

  <!-- ================= PWM OUTPUT SECTION ================= -->
  <text x="50" y="470" font-size="16" font-weight="bold" fill="#f4f2ee">
    PWM Output
  </text>

  <!-- Output axes -->
  <line x1="90" y1="495" x2="90" y2="650" stroke="#f4f2ee" stroke-width="2"/>
  <line x1="90" y1="650" x2="860" y2="650" stroke="#f4f2ee" stroke-width="2"/>

  <text x="30" y="520" font-size="14" font-weight="bold" fill="#f4f2ee">HIGH</text>
  <text x="35" y="655" font-size="14" fill="#f4f2ee">LOW</text>
  <text x="865" y="655" font-size="14" fill="#f4f2ee">time</text>

  <!-- PWM waveform -->
  <line x1="90" y1="515" x2="300" y2="515"
        stroke="#22c55e" stroke-width="4"/>
  <line x1="300" y1="515" x2="300" y2="650"
        stroke="#22c55e" stroke-width="4"/>
  <line x1="300" y1="650" x2="790" y2="650"
        stroke="#22c55e" stroke-width="4"/>
  <line x1="790" y1="650" x2="790" y2="515"
        stroke="#22c55e" stroke-width="4"/>
  <line x1="790" y1="515" x2="860" y2="515"
        stroke="#22c55e" stroke-width="4"/>

  <!-- Alignment guides -->
  <line x1="300" y1="360" x2="300" y2="650"
        stroke="#9ca3af" stroke-dasharray="3,4" opacity="0.6"/>
  <line x1="790" y1="360" x2="790" y2="650"
        stroke="#9ca3af" stroke-dasharray="3,4" opacity="0.6"/>

  <!-- Duty cycle annotation -->
  <text x="195" y="570" font-size="14" font-weight="bold"
        fill="#34d399" text-anchor="middle">
    HIGH when counter &lt; CC
  </text>
  <text x="195" y="590" font-size="14" font-weight="bold"
        fill="#34d399" text-anchor="middle">
    Duty cycle = 3 / 10 = 30%
  </text>

  <!-- Info box -->
  <rect x="60" y="675" width="780" height="32"
        rx="6" fill="#1f2937" stroke="#f59e0b" stroke-width="2"/>
  <text x="450" y="697" font-size="14" font-weight="bold"
        fill="#fde68a" text-anchor="middle">
    Output is HIGH when counter &lt; CC, LOW when counter â‰¥ CC
  </text>

</svg>
